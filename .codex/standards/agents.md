# AI Agent Instructions

> [!IMPORTANT]
> This file guides AI coding agents (GitHub Copilot, Cursor, Claude, etc.) when working in this repository.

## Governance Framework

This project uses **CODEX Weaver** for governance-as-code. All AI contributions must comply with the following governance artifacts:

<!-- BEGIN_GOVERNANCE_REFS -->
- [Architecture Standards](.codex/architecture.md) – Layer definitions and design principles
- [Stack Requirements](.codex/stack.yaml) – Allowed libraries, Python version, tools
- [Process Guidelines](.codex/process.md) – Branching model, review requirements
- [Security Controls](.codex/security.md) – Banned patterns, security policies
<!-- END_GOVERNANCE_REFS -->

## Stack Requirements

<!-- BEGIN_STACK_SUMMARY -->
*Run `codex weave` to populate this section with current stack requirements.*
<!-- END_STACK_SUMMARY -->

## Security Constraints

<!-- BEGIN_SECURITY_RULES -->
*Run `codex weave` to populate this section with current security rules.*
<!-- END_SECURITY_RULES -->

## Process Guidelines

<!-- BEGIN_PROCESS_RULES -->
*Run `codex weave` to populate this section with current process rules.*
<!-- END_PROCESS_RULES -->

## Validation Commands

Before suggesting or committing code, ensure:

```bash
# Run all validators
codex validate

# Run tests
uv run pytest

# Check linting
uv run ruff check src/

# Type check
uv run mypy src/
```

## Key Rules for AI Agents

1. **Never use banned libraries** – Check `.codex/security.md` for the ban list
2. **Follow the layer architecture** – See `.codex/architecture.md`
3. **All code must pass validation** – Run `codex validate` before committing
4. **Use safe patterns only** – No `eval()`, `exec()`, `pickle`, or unsafe YAML loading
5. **Tests are required** – All new code needs test coverage

---

*Generated by CODEX Weaver – Dynamic sections updated on `codex weave`*
